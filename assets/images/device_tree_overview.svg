<svg width="1134" height="1814" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" overflow="hidden"><defs><clipPath id="clip0"><rect x="0" y="0" width="1134" height="1814"/></clipPath><clipPath id="clip1"><rect x="238" y="386" width="37" height="37"/></clipPath><clipPath id="clip2"><rect x="238" y="386" width="37" height="37"/></clipPath><clipPath id="clip3"><rect x="238" y="386" width="37" height="37"/></clipPath><clipPath id="clip4"><rect x="238" y="453" width="37" height="37"/></clipPath><clipPath id="clip5"><rect x="238" y="453" width="37" height="37"/></clipPath><clipPath id="clip6"><rect x="238" y="453" width="37" height="37"/></clipPath></defs><g clip-path="url(#clip0)"><rect x="0" y="0" width="1134" height="1813.57" fill="#FFFFFF"/><rect x="448.5" y="92.4779" width="605" height="608.854" stroke="#70AD47" stroke-width="1.33353" stroke-miterlimit="8" fill="#FFFFFF"/><text font-family="Courier New,Courier New_MSFontService,sans-serif" font-weight="400" font-size="16" transform="matrix(1 0 0 0.999761 467.577 129)">/dts<tspan font-size="16" x="38.6724" y="0">-</tspan><tspan font-size="16" x="48.3404" y="0">v1/;</tspan><tspan font-size="16" x="0" y="20.0048">#include "bcm2835.dtsi"</tspan><tspan font-size="16" x="0" y="39.0093">#include "bcm2835</tspan>-rpi.dtsi"<tspan font-size="16" x="0" y="58.0138">#include "bcm283x</tspan>-rpi-smsc9512.dtsi"<tspan font-size="16" x="0" y="77.0184">#include "bcm283x</tspan>-rpi-usb-host.dtsi"<tspan font-size="16" x="0" y="116.028">/ {                     </tspan><tspan font-size="16" x="29.0043" y="135.032">compatible = "raspberrypi,model</tspan><tspan font-size="16" x="328.715" y="135.032">-</tspan>b-rev2", "brcm,bcm2835";<tspan font-size="16" x="29.0043" y="154.037">model = "Raspberry Pi Model B rev2";</tspan><tspan font-size="16" x="29.0043" y="192.046">memory@0 {</tspan><tspan font-size="16" x="67.6766" y="212.051">device_type</tspan><tspan font-size="16" x="183.694" y="212.051">= "memory";</tspan><tspan font-size="16" x="67.6766" y="231.055">reg = &lt;0 0x10000000&gt;; </tspan><tspan font-size="16" x="29.0043" y="250.06">};</tspan><tspan font-size="16" x="29.0043" y="288.069">leds</tspan><tspan font-size="16" x="77.3447" y="288.069">{</tspan><tspan font-size="16" x="67.6766" y="308.074">act {</tspan><tspan font-size="16" x="106.349" y="327.078">gpios</tspan><tspan font-size="16" x="164.358" y="327.078">= &lt;&amp;</tspan><tspan font-size="16" x="203.03" y="327.078">gpio</tspan><tspan font-size="16" x="251.37" y="327.078">16 GPIO_ACTIVE_LOW&gt;;</tspan><tspan font-size="16" x="67.6766" y="346.083">};</tspan><tspan font-size="16" x="29.0043" y="365.087">};      </tspan><tspan font-size="16" x="0" y="384.092">}; </tspan><tspan font-size="16" x="0" y="423.101">&amp;</tspan><tspan font-size="16" x="9.66809" y="423.101">sdhost</tspan><tspan font-size="16" x="77.3447" y="423.101">{</tspan><tspan font-size="16" x="29.0043" y="442.106">pinctrl</tspan><tspan font-size="16" x="96.6809" y="442.106">-</tspan>names = "default";<tspan font-size="16" x="29.0043" y="461.11">pinctrl</tspan><tspan font-size="16" x="96.6809" y="461.11">-</tspan>0 = &lt;&amp;sdhost_gpio48&gt;;<tspan font-size="16" x="29.0043" y="480.115">bus</tspan><tspan font-size="16" x="58.0085" y="480.115">-</tspan>width = &lt;4&gt;;<tspan font-size="16" x="29.0043" y="500.119">status = "okay";</tspan><tspan font-size="16" x="0" y="519.124">};</tspan></text><rect x="457" y="75.9819" width="136" height="28.993" fill="#FFFFFF"/><text fill="#7F7F7F" font-family="Courier New,Courier New_MSFontService,sans-serif" font-weight="400" font-size="16" transform="matrix(1 0 0 0.999761 467.164 95)">my<tspan font-size="16" x="19.3362" y="0">-</tspan><tspan font-size="16" x="29.0043" y="0">board.dts</tspan><tspan fill="#000000" font-size="16" x="-360.671" y="278.066">Documentation/</tspan><tspan fill="#000000" font-size="16" x="-225.318" y="278.066">devicetree</tspan><tspan fill="#000000" font-size="16" x="-128.637" y="278.066">/bindings/</tspan></text><g clip-path="url(#clip1)"><g clip-path="url(#clip2)"><g clip-path="url(#clip3)"><path d="M8.62295 30.7427 8.62295 5.24875 17.9957 5.24875 17.9957 13.1219 27.3685 13.1219 27.3685 30.7427 8.62295 30.7427ZM20.2452 6.18603 24.9316 10.8724 20.2452 10.8724 20.2452 6.18603ZM20.2452 2.99929 6.37348 2.99929 6.37348 32.9922 29.618 32.9922 29.618 11.2473 20.2452 2.99929Z" transform="matrix(1.00024 0 0 1 239 386.908)"/><path d="M10.8724 16.871 25.119 16.871 25.119 18.3706 10.8724 18.3706Z" transform="matrix(1.00024 0 0 1 239 386.908)"/><path d="M10.8724 13.8717 15.7463 13.8717 15.7463 15.3713 10.8724 15.3713Z" transform="matrix(1.00024 0 0 1 239 386.908)"/><path d="M10.8724 19.8703 25.119 19.8703 25.119 21.3699 10.8724 21.3699Z" transform="matrix(1.00024 0 0 1 239 386.908)"/><path d="M10.8724 22.8696 25.119 22.8696 25.119 24.3692 10.8724 24.3692Z" transform="matrix(1.00024 0 0 1 239 386.908)"/><path d="M10.8724 25.8688 25.119 25.8688 25.119 27.3685 10.8724 27.3685Z" transform="matrix(1.00024 0 0 1 239 386.908)"/></g></g></g><text font-family="Courier New,Courier New_MSFontService,sans-serif" font-weight="400" font-size="16" transform="matrix(1 0 0 0.999761 195.124 437)">leds<tspan font-size="16" x="38.6723" y="0">-</tspan><tspan font-size="16" x="48.3404" y="0">gpio.yaml</tspan></text><g clip-path="url(#clip4)"><g clip-path="url(#clip5)"><g clip-path="url(#clip6)"><path d="M8.62295 30.7427 8.62295 5.24875 17.9957 5.24875 17.9957 13.1219 27.3685 13.1219 27.3685 30.7427 8.62295 30.7427ZM20.2452 6.18603 24.9316 10.8724 20.2452 10.8724 20.2452 6.18603ZM20.2452 2.99929 6.37348 2.99929 6.37348 32.9922 29.618 32.9922 29.618 11.2473 20.2452 2.99929Z" transform="matrix(1.00024 0 0 1 239 453.892)"/><path d="M10.8724 16.871 25.119 16.871 25.119 18.3706 10.8724 18.3706Z" transform="matrix(1.00024 0 0 1 239 453.892)"/><path d="M10.8724 13.8717 15.7463 13.8717 15.7463 15.3713 10.8724 15.3713Z" transform="matrix(1.00024 0 0 1 239 453.892)"/><path d="M10.8724 19.8703 25.119 19.8703 25.119 21.3699 10.8724 21.3699Z" transform="matrix(1.00024 0 0 1 239 453.892)"/><path d="M10.8724 22.8696 25.119 22.8696 25.119 24.3692 10.8724 24.3692Z" transform="matrix(1.00024 0 0 1 239 453.892)"/><path d="M10.8724 25.8688 25.119 25.8688 25.119 27.3685 10.8724 27.3685Z" transform="matrix(1.00024 0 0 1 239 453.892)"/></g></g></g><text font-family="Courier New,Courier New_MSFontService,sans-serif" font-weight="400" font-size="16" transform="matrix(1 0 0 0.999761 216.967 503)">gpio.txt</text><path d="M342.5 414.068 482.692 414.068 482.692 414.734 342.5 414.734ZM481.359 410.401 489.36 414.401 481.359 418.401Z" fill="#4472C4"/><text font-family="Courier New,Courier New_MSFontService,sans-serif" font-weight="400" font-size="16" transform="matrix(1 0 0 0.999761 106.493 322)">Devicetree<tspan font-size="16" x="106.349" y="0">Specification</tspan></text><path d="M0-0.333303 467.97-0.333303 467.955 22.4137 467.289 22.4133 467.303-0.000220893 467.637 0.333303 0 0.333303ZM471.636 21.1248 467.548 29.0791 463.637 21.0359Z" fill="#4472C4" transform="matrix(1.00024 0 0 -1 305.5 499.467)"/><path d="M351.5 318.091 482.699 318.091 482.699 318.757 351.5 318.757ZM481.365 314.425 489.366 318.424 481.365 322.424Z" fill="#4472C4"/><rect x="160.5" y="935.277" width="885" height="55.9866" stroke="#2F528F" stroke-width="1.33353" stroke-miterlimit="8" fill="#4472C4"/><text font-family="Courier New,Courier New_MSFontService,sans-serif" font-weight="400" font-size="24" transform="matrix(1 0 0 0.999761 68.0638 969)">RAM</text><rect x="286.5" y="935.277" width="168" height="55.9866" stroke="#AE5A21" stroke-width="1.33353" stroke-miterlimit="8" fill="#ED7D31"/><text fill="#FFFFFF" font-family="Courier New,Courier New_MSFontService,sans-serif" font-weight="400" font-size="19" transform="matrix(1 0 0 0.999761 336.467 967)">zImage</text><rect x="483.5" y="935.277" width="87" height="55.9866" stroke="#507E32" stroke-width="1.33353" stroke-miterlimit="8" fill="#70AD47"/><text fill="#FFFFFF" font-family="Courier New,Courier New_MSFontService,sans-serif" font-weight="400" font-size="19" transform="matrix(1 0 0 0.999761 510.042 967)">dtb<tspan fill="#000000" font-size="19" x="-239.51" y="-44.0105">0x00080000</tspan><tspan fill="#000000" font-size="19" x="-41.5343" y="-44.0105">0x02600000</tspan></text><path d="M809.397 842.299 809.397 873.256 525.5 873.256 525.833 872.923 525.833 896.881 525.167 896.881 525.167 872.59 809.064 872.59 808.731 872.923 808.731 842.299ZM529.501 895.548 525.5 903.547 521.499 895.548Z" fill="#70AD47"/><rect x="556.5" y="754.32" width="505" height="87.979" stroke="#70AD47" stroke-width="1.33353" stroke-miterlimit="8" fill="#FFFFFF"/><text fill="#70AD47" font-family="Courier New,Courier New_MSFontService,sans-serif" font-weight="400" font-size="16" transform="matrix(1 0 0 0.999761 565.618 773)">U<tspan font-size="16" x="9.66809" y="0">-</tspan><tspan font-size="16" x="19.3362" y="0">Boot&gt; echo ${fdt_addr_r}</tspan><tspan fill="#767171" font-size="16" x="0" y="19.0045">0x02600000</tspan><tspan font-size="16" x="0" y="39.0093">U</tspan><tspan font-size="16" x="9.66809" y="39.0093">-</tspan><tspan font-size="16" x="19.3362" y="39.0093">Boot&gt; </tspan><tspan font-size="16" x="77.3447" y="39.0093">fatload</tspan><tspan font-size="16" x="154.689" y="39.0093">mmc 0:1 ${</tspan><tspan font-size="16" x="251.37" y="39.0093">fdt_addr_r</tspan><tspan font-size="16" x="348.051" y="39.0093">} my</tspan>-board.dtb<tspan fill="#767171" font-size="16" x="0" y="58.0138">18713 bytes read in 7 </tspan><tspan fill="#767171" font-size="16" x="212.698" y="58.0138">ms</tspan><tspan fill="#767171" font-size="16" x="241.702" y="58.0138">(2.5 MiB/s)</tspan></text><rect x="36.5" y="754.32" width="505" height="87.979" stroke="#ED7D31" stroke-width="1.33353" stroke-miterlimit="8" fill="#FFFFFF"/><text fill="#ED7D31" font-family="Courier New,Courier New_MSFontService,sans-serif" font-weight="400" font-size="16" transform="matrix(1 0 0 0.999761 45.3862 773)">U<tspan font-size="16" x="9.66809" y="0">-</tspan><tspan font-size="16" x="19.3362" y="0">Boot&gt; echo ${kernel_addr_r}</tspan><tspan fill="#767171" font-size="16" x="0" y="19.0045">0x00080000</tspan><tspan font-size="16" x="0" y="39.0093">U</tspan><tspan font-size="16" x="9.66809" y="39.0093">-</tspan><tspan font-size="16" x="19.3362" y="39.0093">Boot&gt; </tspan>fatload<tspan font-size="16" x="154.689" y="39.0093">mmc 0:1 ${</tspan>kernel_addr_r} zImage<tspan fill="#767171" font-size="16" x="0" y="58.0138">6011408 bytes read in 262 </tspan><tspan fill="#767171" font-size="16" x="251.37" y="58.0138">ms</tspan><tspan fill="#767171" font-size="16" x="280.375" y="58.0138">(21.9 MiB/s)</tspan></text><path d="M0-0.333303 30.9574-0.333303 30.9574 86.0867 30.6241 85.7534 54.582 85.7534 54.582 86.42 30.2908 86.42 30.2908 0 30.6241 0.333303 0 0.333303ZM53.2488 82.0871 61.248 86.0867 53.2488 90.0863Z" fill="#ED7D31" transform="matrix(1.83741e-16 1 1.00024 -1.83697e-16 288.5 842.299)"/><rect x="160.5" y="1029.25" width="885" height="202.952" stroke="#7030A0" stroke-width="1.00015" stroke-linejoin="round" stroke-miterlimit="10" fill="none"/><text fill="#7030A0" font-family="Courier New,Courier New_MSFontService,sans-serif" font-weight="400" font-size="16" transform="matrix(1 0 0 0.999761 169.31 1048)">U<tspan font-size="16" x="9.66808" y="0">-</tspan><tspan font-size="16" x="19.3362" y="0">Boot&gt; </tspan>bootz<tspan font-size="16" x="135.353" y="0">${</tspan>kernel_addr_r} -<tspan font-size="16" x="319.047" y="0">${</tspan>fdt_addr_r<tspan font-size="16" x="435.064" y="0">}</tspan><tspan fill="#767171" font-size="16" x="0" y="19.0045">Kernel image @ 0x080000 [ 0x000000 </tspan><tspan fill="#767171" font-size="16" x="338.383" y="19.0045">-</tspan><tspan fill="#767171" font-size="16" x="357.719" y="19.0045">0x5bba10 ]</tspan><tspan fill="#767171" font-size="16" x="0" y="39.0093">## Flattened Device Tree blob at 02600000</tspan><tspan fill="#767171" font-size="16" x="29.0043" y="58.0138">Booting using the </tspan><tspan fill="#767171" font-size="16" x="203.03" y="58.0138">fdt</tspan><tspan fill="#767171" font-size="16" x="241.702" y="58.0138">blob at 0x2600000</tspan><tspan fill="#767171" font-size="16" x="29.0043" y="77.0184">Using Device Tree in place at 02600000, end 02607918</tspan><tspan fill="#767171" font-size="16" x="0" y="115.027">Starting kernel ...</tspan><tspan fill="#767171" font-size="16" x="0" y="154.037">[    0.000000] Booting Linux on physical CPU 0x0</tspan><tspan fill="#767171" font-size="16" x="0" y="173.041">[    0.000000] Linux version 5.10.32+ (ivan@341006786a64) (arm-linux-gnueabihf-gcc......</tspan><tspan fill="#000000" font-weight="700" font-size="24" x="221.715" y="-987.236">Booting Linux With DTB</tspan></text><path d="M160.5 1361.01C160.5 1314.72 198.034 1277.19 244.335 1277.19L961.665 1277.19C1007.97 1277.19 1045.5 1314.72 1045.5 1361.01L1045.5 1696.26C1045.5 1742.55 1007.97 1780.07 961.665 1780.07L244.335 1780.07C198.034 1780.07 160.5 1742.55 160.5 1696.26Z" stroke="#ED7D31" stroke-width="1.33353" stroke-miterlimit="8" fill="#FFFFFF" fill-rule="evenodd"/><text fill="#ED7D31" font-family="Courier New,Courier New_MSFontService,sans-serif" font-weight="400" font-size="24" transform="matrix(1 0 0 0.999761 62.9213 1534)">KERNEL</text><path d="M602.833 1232.21 602.876 1270.4 602.209 1270.4 602.167 1232.21ZM606.542 1269.06 602.55 1277.07 598.54 1269.07Z" fill="#ED7D31"/><rect x="286.5" y="1304.19" width="608" height="357.915" stroke="#D0CECE" stroke-width="1.33353" stroke-miterlimit="8" fill="#FFFFFF"/><text fill="#767171" font-family="Courier New,Courier New_MSFontService,sans-serif" font-weight="400" font-size="16" transform="matrix(1 0 0 0.999761 314.972 1341)">static const struct of_device_id<tspan font-size="16" x="319.047" y="0">bcm2835_match[] = {</tspan><tspan font-size="16" x="58.0085" y="20.0048">{ .compatible = "brcm,bcm2835</tspan><tspan font-size="16" x="338.383" y="20.0048">-</tspan>sdhost" },<tspan font-size="16" x="58.0085" y="39.0093">{ }</tspan><tspan font-size="16" x="0" y="58.0138">};</tspan><tspan font-size="16" x="0" y="96.0229">static struct </tspan>platform_driver<tspan font-size="16" x="290.043" y="96.0229">bcm2835_driver = {</tspan><tspan font-size="16" x="58.0085" y="116.028">.probe      = bcm2835_probe,</tspan><tspan font-size="16" x="58.0085" y="135.032">.remove     = bcm2835_remove,</tspan><tspan font-size="16" x="58.0085" y="154.037">.driver     = {</tspan><tspan font-size="16" x="135.353" y="173.041">.name           = "sdhost</tspan><tspan font-size="16" x="377.055" y="173.041">-</tspan>bcm2835",<tspan font-size="16" x="135.353" y="192.046">.</tspan>probe_type<tspan font-size="16" x="290.043" y="192.046">= PROBE_PREFER_ASYNCHRONOUS,</tspan><tspan font-size="16" x="135.353" y="212.051">.</tspan>of_match_table<tspan font-size="16" x="290.043" y="212.051">= bcm2835_match,</tspan><tspan font-size="16" x="58.0085" y="231.055">},</tspan><tspan font-size="16" x="0" y="250.06">}</tspan><tspan font-size="16" x="0" y="288.069">module_platform_driver</tspan>(bcm2835_driver);</text><rect x="304" y="1288.69" width="274" height="28.993" fill="#FFFFFF"/><text fill="#767171" font-family="Courier New,Courier New_MSFontService,sans-serif" font-weight="400" font-size="16" transform="matrix(1 0 0 0.999761 315.411 1307)">drivers/mmc/host/bcm2835.c</text><rect x="286.5" y="1685.1" width="608" height="74.9821" stroke="#D0CECE" stroke-width="1.33353" stroke-miterlimit="8" fill="#FFFFFF"/><text fill="#767171" font-family="Courier New,Courier New_MSFontService,sans-serif" font-weight="400" font-size="16" transform="matrix(1 0 0 0.999761 314.972 1716)">u32 <tspan font-size="16" x="38.6724" y="0">bus_width</tspan><tspan font-size="16" x="125.685" y="0">;</tspan><tspan font-size="16" x="0" y="19.0045">device_property_read_u32(dev, "bus</tspan><tspan font-size="16" x="328.715" y="19.0045">-</tspan>width", &amp;<tspan font-size="16" x="425.396" y="19.0045">bus_width</tspan>);</text><rect x="304" y="1670.6" width="244" height="28.993" fill="#FFFFFF"/><text fill="#767171" font-family="Courier New,Courier New_MSFontService,sans-serif" font-weight="400" font-size="16" transform="matrix(1 0 0 0.999761 315.269 1689)">drivers/mmc/core/host.c<tspan fill="#000000" font-size="16" x="-208.777" y="-1137.27">Expanded Node, defined in</tspan><tspan fill="#000000" font-size="16" x="-208.777" y="-1118.27">bcm283x.dtsi:</tspan></text><path d="M360.5 549.035 457.027 549.036 457.027 549.702 360.5 549.702ZM455.693 545.369 463.694 549.369 455.693 553.368Z" fill="#4472C4"/><rect x="105.5" y="578.362" width="335" height="122.971" stroke="#A5A5A5" stroke-width="0.333382" stroke-miterlimit="8" fill="#FFFFFF"/><text fill="#767171" font-family="Courier New,Courier New_MSFontService,sans-serif" font-weight="400" font-size="13" transform="matrix(1 0 0 0.999761 114.909 595)">sdhost: mmc@7e202000 {<tspan font-size="13" x="16.0024" y="16.0038">compatible = "brcm,bcm2835</tspan><tspan font-size="13" x="224.033" y="16.0038">-</tspan><tspan font-size="13" x="232.034" y="16.0038">sdhost";</tspan><tspan font-size="13" x="16.0024" y="32.0076">reg = &lt;0x7e202000 0x100&gt;;</tspan><tspan font-size="13" x="16.0024" y="48.0115">interrupts = &lt;2 24&gt;;</tspan><tspan font-size="13" x="16.0024" y="64.0153">clocks = &lt;&amp;clocks BCM2835_CLOCK_VPU&gt;;</tspan><tspan font-size="13" x="16.0024" y="80.0191">status = "disabled";</tspan><tspan font-size="13" x="0" y="96.0229">};</tspan></text><path d="M0 0 26.5968 0 26.5968 57.6414 53.1936 57.6414" stroke="#70AD47" stroke-width="0.666605" stroke-miterlimit="8" fill="none" fill-rule="evenodd" transform="matrix(1.83741e-16 1 1.00024 -1.83697e-16 751.5 701.332)"/><path d="M602.833 991.263 602.833 1022.4 602.167 1022.4 602.167 991.263ZM606.501 1021.06 602.5 1029.06 598.5 1021.06Z" fill="#7030A0"/></g></svg>
